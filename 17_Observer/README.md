# Observer

## そのパターンの用途、どんなケースに適用できるか
オブジェクトの状態の変化を他の複数のオブジェクトに通知したい場合に使用する  
ViewModelの内容が変わるとViewが勝手に変更される、MVVMフレームワークとかではこのパターンが使われるのでは？  

## Mediatorとの違い
MediatorパターンでもColleague役からMediator役への通知は行うが、これはColleague役同士のやり取りの複雑化をMediatorを挟むことで単純化することが目的である。  
それに対し、Observerでは観察される側からすべてのObserverに通知を送るのが目的である  
ObserverではObserverが周りにたくさんいるのに対して、Mediatorでは中央がMediatorになる（下記の図のイメージ）  

```
# Mediatorパターン
*------------*    *-----------*    *------------*
* Colleague1 * -> * Mediator  * <- * Colleague2 *
*------------*    *-----------*    *------------*

# Observerパターン
*------------*    *-----------*    *------------*
* Observer1  * <- * Object    * -> * Observer2  *
*------------*    *-----------*    *------------*
```

## 作成したサンプルコードの概要説明
Markdownのプレビュー機能を考える
テキストボックスにMarkdownで文字を入力していくと、Markdownの結果を別のテキストボックスに表示してくれる。

## クラス図の説明

## ソースコードの説明
Mainで観察される側（TextArea）、観察する側（MarkdownViewArea）をnewして、
観察される側に観察する側をセットしておく。
TextAreaのAddTextというメソッドを呼ぶと中で、Textに追加して、NotifyObserversを呼び出し、MarkdownViewAreaに通知する

## そのパターンを適用した場合のメリット
利用者は特に観察される側の変化を意識せずともすべての観察する側に通知されるため、
このオブジェクトが変わったら、別のオブジェクトでも何かするという処理をいろんなところに書く必要がない
